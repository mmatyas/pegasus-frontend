<!DOCTYPE html><html lang=en><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-KQLQN0DTLR"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-KQLQN0DTLR');</script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Documentation and customization guides for the Pegasus frontend."><meta name=author content="Mátyás Mustoha"><link rel=canonical href=http://www.pegasus-frontend.org/docs/themes/overview/ ><link rel="shortcut icon" href=../../img/favicon.ico><title>Overview - Pegasus Docs</title><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.12.0/css/all.css><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.12.0/css/v4-shims.css><link rel=stylesheet href=//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css><link href="//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin" rel=stylesheet><link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin" rel=stylesheet><link href=../../css/bootstrap-custom.min.css rel=stylesheet><link href=../../css/base.min.css rel=stylesheet><link href=../../css/cinder.min.css rel=stylesheet><link href=../../css/extra.css rel=stylesheet><link href=../../css/codehl.css rel=stylesheet><link href="//fonts.googleapis.com/icon?family=Material+Icons" rel=stylesheet><!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]--></head><body><div class="navbar navbar-default navbar-fixed-top" role=navigation><div class=container><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=.navbar-collapse><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a class=navbar-brand href=../..>Pegasus Docs</a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav"><li><a href=../..>Home</a></li><li class=dropdown><a href=# class=dropdown-toggle data-toggle=dropdown>User Guide <b class=caret></b></a><ul class=dropdown-menu><li class=dropdown-submenu><a tabindex=-1 href="">Setup</a><ul class=dropdown-menu><li><a href=../../user-guide/getting-started/ >Getting started</a></li><li><a href=../../user-guide/controls/ >Default controls</a></li><li><a href=../../user-guide/portable/ >Portable mode</a></li><li><a href=../../user-guide/config-dirs/ >Config directories</a></li></ul></li><li class=dropdown-submenu><a tabindex=-1 href="">Platform notes</a><ul class=dropdown-menu><li><a href=../../user-guide/platform-windows/ >Windows</a></li><li><a href=../../user-guide/platform-android/ >Android</a></li><li><a href=../../user-guide/platform-android-example/ >Android example</a></li><li><a href=../../user-guide/platform-linux/ >Linux</a></li><li><a href=../../user-guide/platform-raspberry/ >Raspberry Pi</a></li><li><a href=../../user-guide/platform-macos/ >MacOS</a></li></ul></li><li class=dropdown-submenu><a tabindex=-1 href="">Adding games</a><ul class=dropdown-menu><li><a href=../../user-guide/adding-games/ >How to add games</a></li><li><a href=../../user-guide/meta-files/ >Metadata files</a></li><li><a href=../../user-guide/meta-assets/ >Asset files</a></li><li><a href=../../user-guide/meta-sources/ >Other sources</a></li></ul></li><li><a href=../../user-guide/faq/ >FAQ</a></li><li><a href=../../user-guide/installing-themes/ >Installing themes</a></li><li><a href=../../user-guide/scripting/ >Scripting</a></li><li><a href=../../user-guide/breaking-changes/ >Breaking changes</a></li></ul></li><li class="dropdown active"><a href=# class=dropdown-toggle data-toggle=dropdown>Theme Dev <b class=caret></b></a><ul class=dropdown-menu><li class=active><a href=./ >Overview</a></li><li><a href=../extra/ >Special features</a></li><li><a href=../qml-tutorials/ >QML tutorials</a></li><li><a href=../qml-modules/ >QML modules</a></li><li class=dropdown-submenu><a tabindex=-1 href="">Step-by-step: Simple theme</a><ul class=dropdown-menu><li><a href=../example-simple-intro/ >Introduction</a></li><li><a href=../example-simple-ch1/ >Part 1</a></li><li><a href=../example-simple-ch2/ >Part 2</a></li><li><a href=../example-simple-ch3/ >Part 3</a></li></ul></li><li class=dropdown-submenu><a tabindex=-1 href="">Step-by-step: Flixnet theme</a><ul class=dropdown-menu><li><a href=../example-flixnet-intro/ >Introduction</a></li><li><a href=../example-flixnet-ch1/ >Part 1</a></li><li><a href=../example-flixnet-ch2/ >Part 2</a></li><li><a href=../example-flixnet-ch3/ >Part 3</a></li><li><a href=../example-flixnet-ch4/ >Part 4</a></li><li><a href=../example-flixnet-ch5/ >Part 5</a></li></ul></li><li><a href=../api/ >API reference</a></li></ul></li><li class=dropdown><a href=# class=dropdown-toggle data-toggle=dropdown>Core Dev <b class=caret></b></a><ul class=dropdown-menu><li><a href=../../dev/translate/ >Translations</a></li><li><a href=../../dev/meta-syntax/ >Metadata syntax</a></li><li><a href=../../dev/build/ >Building</a></li><li><a href=../../dev/install-qt/ >Installing Qt</a></li><li><a href=../../dev/cross-compile-qt/ >Cross compiling Qt</a></li><li><a href=../../dev/deploy/ >Deployment</a></li></ul></li></ul><ul class="nav navbar-nav navbar-right"><li><a href=# data-toggle=modal data-target=#mkdocs_search_modal><i class="fas fa-search"></i> Search</a></li><li><a rel=prev href=../../user-guide/breaking-changes/ ><i class="fas fa-arrow-left"></i> Previous</a></li><li><a rel=next href=../extra/ >Next <i class="fas fa-arrow-right"></i></a></li></ul></div></div></div><div class=container><div class=col-md-3><div class="bs-sidebar hidden-print affix well" role=complementary><ul class="nav bs-sidenav"><li class="first-level active"><a href=#theme-development>Theme development</a></li><li class=second-level><a href=#qml>QML</a></li><li class=third-level><a href=#javascript>JavaScript</a></li><li class=second-level><a href=#theme-structure>Theme structure</a></li><li class=third-level><a href=#themecfg>theme.cfg</a></li><li class=third-level><a href=#themeqml>theme.qml</a></li><li class=second-level><a href=#usage>Usage</a></li><li class=second-level><a href=#next-steps>Next steps</a></li></ul></div></div><div class=col-md-9 role=main><h1 id=theme-development>Theme development</h1><p>In Pegasus themes can define the whole look and feel of the interface. There are no predefined views or layouts: you start with the whole screen as your canvas, and you can add your own views or elements in the kind of arrangement you wish. Pegasus merely provides the <em>data</em>, like the list of games and their assets. You can then use this data to build UI elements like a list of games, a screen for choosing platforms or a search panel for filtering games.</p><p>Compared to other frontends, this level of customization might produce a steeper learning curve initially, however in time it allows you to produce themes where the way games are presented and interacted with can be freely decided.</p><h2 id=qml>QML</h2><p>Themes are written in the <strong>QML</strong> language, a human readable text format. Each QML file describes a hierarchy of elements and their properties, representing a piece of the user interface. These smaller elements can then be combined to form larger or more complex elements, then eventually build up the theme itself.</p><div class=codehilite><pre><span></span><code><span class=c1>// An example QML document</span>
<span class=c1>// Based on: https://en.wikipedia.org/wiki/QML</span>

<span class=kr>import</span> <span class=nx>QtQuick</span> <span class=mf>2.0</span>

<span class=nx>Rectangle</span> <span class=p>{</span>
    <span class=kd>id: canvas</span>
    <span class=k>width:</span> <span class=mi>250</span>
    <span class=k>height:</span> <span class=mi>200</span>
    <span class=k>color:</span> <span class=s2>&quot;blue&quot;</span>

    <span class=nx>Image</span> <span class=p>{</span>
        <span class=kd>id: logo</span>
        <span class=k>source:</span> <span class=s2>&quot;pics/logo.png&quot;</span>
        <span class=k>anchors.centerIn:</span> <span class=nx>parent</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><h3 id=javascript>JavaScript</h3><p>QML describes how elements look, arranged on screen and generally behave. When you want to tell <em>what</em> should happen, you can use <strong>JavaScript</strong>. In its simplest form this can be things like "<em>if</em> I press Enter <em>then</em> launch the game", but you can write any kind of complex logic if necessary.</p><div class="admonition note"><p class=admonition-title>See also</p><ul><li><a href=https://en.wikipedia.org/wiki/QML>https://en.wikipedia.org/wiki/QML</a></li><li><a href=https://qmlbook.github.io/ch04-qmlstart/qmlstart.htm>https://qmlbook.github.io/ch04-qmlstart/qmlstart.htm</a></li><li><a href=https://doc.qt.io/qt-5/qmlapplications.html>https://doc.qt.io/qt-5/qmlapplications.html</a></li></ul></div><h2 id=theme-structure>Theme structure</h2><p>Pegasus is looking for themes in the <a href=../../user-guide/config-dirs/ >configuration directories</a>, under a <code>themes</code> subdirectory (eg. <code>~/.config/pegasus-frontend/themes/</code>). This directory might not exist by default, in this case you can just create it manually.</p><p>In this <code>themes</code> directory, each theme is located in its own folder, and the name of this folder should be unique. Two files are required for every theme:</p><ul><li>the <code>theme.cfg</code> is a simple text file that tells information about the theme. Things like its human friendly name, some description or the author's contact can be listed here.</li><li>the <code>theme.qml</code> is the actual theme UI code, the top of the whole element hierarchy</li></ul><h3 id=themecfg>theme.cfg</h3><p>The <code>theme.cfg</code> is a text file in the same format as Pegasus' <a href=../../dev/meta-syntax/ >metadata files</a>. Currently the following options are recognized:</p><ul><li><code>name</code>: the name of your theme (required)</li><li><code>version</code>: a version identifier; can be a number, text, whatever you like as long as it's unique</li><li><code>author</code>: the author of the theme; either simply a name or in "name &lt;email&gt;" format. If there's more than one, you can list them one line per author. <code>authors</code> is also an accepted name for this field.</li><li><code>summary</code>: a short (80-100 characters) summary</li><li><code>description</code>: a longer description</li><li><code>keywords</code>: keywords used for searching, separated with '<code>,</code>'</li><li><code>homepage</code>: a link to you project's site</li><li><code>assets.screenshots</code>: a list of screenshots, one line per file, that show how your theme looks. They should be either file paths relative to the <code>cfg</code> file, or image URLs</li></ul><p>Every theme is required to have a <code>theme.cfg</code> file, with at least the <code>name</code> defined. Here is an example:</p><div class=codehilite><pre><span></span><code><span class=nf>name</span><span class=o>:</span><span class=w> </span><span class=n>Tutorial</span>
<span class=nf>author</span><span class=o>:</span><span class=w> </span><span class=n>John</span> <span class=n>Smith</span>
<span class=nf>version</span><span class=o>:</span><span class=w> </span>1.0
<span class=nf>summary</span><span class=o>:</span><span class=w> </span><span class=n>A</span> <span class=n>super</span> <span class=n>cool</span> <span class=n>theme</span>!
</code></pre></div><p>Another one:</p><div class=codehilite><pre><span></span><code><span class=nf>name</span><span class=o>:</span><span class=w> </span><span class=n>Tutorial</span> 2
<span class=nf>authors</span><span class=o>:</span>
<span class=w>  </span>John<span class=w> </span>Smith<span class=w> </span>&lt;johnsmith@example.com&gt;
<span class=w>  </span>Jane<span class=w> </span>Doe<span class=w> </span>&lt;janedoe@xample.com&gt;
<span class=nf>version</span><span class=o>:</span><span class=w> </span><span class=n>beta</span>
<span class=nf>summary</span><span class=o>:</span><span class=w> </span><span class=n>A</span> <span class=n>super</span> <span class=n>cool</span> <span class=n>theme</span> <span class=n>that</span>
<span class=w>  </span>should<span class=w> </span>look<span class=w> </span>really<span class=w> </span>nice<span class=w> </span>on<span class=w> </span>big<span class=w> </span>screens,
<span class=w>  </span>like<span class=w> </span>TVs
<span class=nf>keywords</span><span class=o>:</span><span class=w> </span>10<span class=n>foot</span><span class=p>,</span> <span class=n>retro</span>
<span class=nf>homepage</span><span class=o>:</span><span class=w> </span><span class=n>example</span>.<span class=n>com</span>
<span class=nf>assets.screenshots</span><span class=o>:</span>
<span class=w>  </span>demo/screenshot_a.jpg
<span class=w>  </span>demo/screenshot_b.jpg
</code></pre></div><h3 id=themeqml>theme.qml</h3><p>The <code>theme.qml</code> file is the entry point of your theme's UI structure. For example the following snippet could be used to check if everything works fine:</p><div class=codehilite><pre><span></span><code><span class=kr>import</span> <span class=nx>QtQuick</span> <span class=mf>2.0</span>

<span class=nx>FocusScope</span> <span class=p>{</span>

    <span class=nx>Text</span> <span class=p>{</span>
        <span class=k>text:</span> <span class=s2>&quot;Hello World!&quot;</span>
        <span class=k>color:</span> <span class=s2>&quot;white&quot;</span>
        <span class=k>anchors.centerIn:</span> <span class=nx>parent</span>
    <span class=p>}</span>

<span class=p>}</span>
</code></pre></div><p>Themes should have a <code>FocusScope</code> as their root element, which is then set up by Pegasus to always fill the whole screen. (<code>FocusScope</code> itself is a special container in QML which is used for separating keyboard/gamepad input from other parts of the UI (eg. main menu).)</p><h2 id=usage>Usage</h2><p>If you've created the <code>theme.cfg</code> and <code>theme.qml</code> files as described above, you should now see your entry in the list of available themes in Pegasus' settings menu.</p><p>After the theme is loaded, pressing the <span class=keys><kbd class=key-f5>F5</kbd></span> key will make Pegasus reload its files, making it easier to try out changes.</p><h2 id=next-steps>Next steps</h2><p>QML can be a quite large topic, so this documentation is grouped into the following main areas:</p><ul><li>To get familiar with QML, a number of tutorials were collected on <a href=../qml-tutorials/ >this page</a>.</li><li>To learn by examples, there are step-by-step tutorials of writing themes from scratch. QML code is also explained along the way.<ul><li><a href=../example-simple-intro/ >Simple theme</a></li><li><a href=../example-flixnet-intro/ >Flixnet theme</a></li></ul></li><li>A list of commonly used QML components is available here. // TODO</li><li>A reference of the accessible data structures Pegasus provides is available <a href=../api/ >here</a>.</li></ul></div></div><footer class="col-md-12 text-center"><hr><p><small>Copyright &copy; 2018-2021 Mátyás Mustoha</small><br><small>Documentation built with <a href=http://www.mkdocs.org/ >MkDocs</a>.</small></p></footer><script src=//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js></script><script src=../../js/bootstrap-3.0.3.min.js></script><script>var base_url = "../.."</script><script src=../../js/base.js></script><script src=../../search/main.js></script><div class=modal id=mkdocs_search_modal tabindex=-1 role=dialog aria-labelledby=searchModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal><span aria-hidden=true>&times;</span> <span class=sr-only>Close</span></button><h4 class=modal-title id=searchModalLabel>Search</h4></div><div class=modal-body><p>From here you can search these documents. Enter your search terms below.</p><form><div class=form-group><input class=form-control placeholder=Search... id=mkdocs-search-query title="Type search term here"></div></form><div id=mkdocs-search-results></div></div><div class=modal-footer></div></div></div></div><div class=modal id=mkdocs_keyboard_modal tabindex=-1 role=dialog aria-labelledby=keyboardModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><h4 class=modal-title id=keyboardModalLabel>Keyboard Shortcuts</h4><button type=button class=close data-dismiss=modal><span aria-hidden=true>&times;</span><span class=sr-only>Close</span></button></div><div class=modal-body><table class=table><thead><tr><th style="width: 20%;">Keys</th><th>Action</th></tr></thead><tbody><tr><td class="help shortcut"><kbd>?</kbd></td><td>Open this help</td></tr><tr><td class="next shortcut"><kbd>n</kbd></td><td>Next page</td></tr><tr><td class="prev shortcut"><kbd>p</kbd></td><td>Previous page</td></tr><tr><td class="search shortcut"><kbd>s</kbd></td><td>Search</td></tr></tbody></table></div><div class=modal-footer></div></div></div></div></body></html>