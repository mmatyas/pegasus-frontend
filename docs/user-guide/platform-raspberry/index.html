<!DOCTYPE html><html lang=en><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-KQLQN0DTLR"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-KQLQN0DTLR');</script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Documentation and customization guides for the Pegasus frontend."><meta name=author content="Mátyás Mustoha"><link rel=canonical href=http://www.pegasus-frontend.org/docs/user-guide/platform-raspberry/ ><link rel="shortcut icon" href=../../img/favicon.ico><title>Raspberry Pi - Pegasus Docs</title><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.12.0/css/all.css><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.12.0/css/v4-shims.css><link rel=stylesheet href=//cdn.jsdelivr.net/npm/hack-font@3.3.0/build/web/hack.min.css><link href="//fonts.googleapis.com/css?family=PT+Sans:400,400italic,700,700italic&subset=latin-ext,latin" rel=stylesheet><link href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,700italic,400,300,600,700&subset=latin-ext,latin" rel=stylesheet><link href=../../css/bootstrap-custom.min.css rel=stylesheet><link href=../../css/base.min.css rel=stylesheet><link href=../../css/cinder.min.css rel=stylesheet><link href=../../css/extra.css rel=stylesheet><link href=../../css/codehl.css rel=stylesheet><link href="//fonts.googleapis.com/icon?family=Material+Icons" rel=stylesheet><!--[if lt IE 9]>
            <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
        <![endif]--></head><body><div class="navbar navbar-default navbar-fixed-top" role=navigation><div class=container><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=.navbar-collapse><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a class=navbar-brand href=../..>Pegasus Docs</a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav"><li><a href=../..>Home</a></li><li class="dropdown active"><a href=# class=dropdown-toggle data-toggle=dropdown>User Guide <b class=caret></b></a><ul class=dropdown-menu><li class=dropdown-submenu><a tabindex=-1 href="">Setup</a><ul class=dropdown-menu><li><a href=../getting-started/ >Getting started</a></li><li><a href=../controls/ >Default controls</a></li><li><a href=../portable/ >Portable mode</a></li><li><a href=../config-dirs/ >Config directories</a></li></ul></li><li class=dropdown-submenu><a tabindex=-1 href="">Platform notes</a><ul class=dropdown-menu><li><a href=../platform-windows/ >Windows</a></li><li><a href=../platform-android/ >Android</a></li><li><a href=../platform-android-example/ >Android example</a></li><li><a href=../platform-linux/ >Linux</a></li><li class=active><a href=./ >Raspberry Pi</a></li><li><a href=../platform-macos/ >MacOS</a></li></ul></li><li class=dropdown-submenu><a tabindex=-1 href="">Adding games</a><ul class=dropdown-menu><li><a href=../adding-games/ >How to add games</a></li><li><a href=../meta-files/ >Metadata files</a></li><li><a href=../meta-assets/ >Asset files</a></li><li><a href=../meta-sources/ >Other sources</a></li></ul></li><li><a href=../faq/ >FAQ</a></li><li><a href=../installing-themes/ >Installing themes</a></li><li><a href=../scripting/ >Scripting</a></li><li><a href=../breaking-changes/ >Breaking changes</a></li></ul></li><li class=dropdown><a href=# class=dropdown-toggle data-toggle=dropdown>Theme Dev <b class=caret></b></a><ul class=dropdown-menu><li><a href=../../themes/overview/ >Overview</a></li><li><a href=../../themes/extra/ >Special features</a></li><li><a href=../../themes/qml-tutorials/ >QML tutorials</a></li><li><a href=../../themes/qml-modules/ >QML modules</a></li><li class=dropdown-submenu><a tabindex=-1 href="">Step-by-step: Simple theme</a><ul class=dropdown-menu><li><a href=../../themes/example-simple-intro/ >Introduction</a></li><li><a href=../../themes/example-simple-ch1/ >Part 1</a></li><li><a href=../../themes/example-simple-ch2/ >Part 2</a></li><li><a href=../../themes/example-simple-ch3/ >Part 3</a></li></ul></li><li class=dropdown-submenu><a tabindex=-1 href="">Step-by-step: Flixnet theme</a><ul class=dropdown-menu><li><a href=../../themes/example-flixnet-intro/ >Introduction</a></li><li><a href=../../themes/example-flixnet-ch1/ >Part 1</a></li><li><a href=../../themes/example-flixnet-ch2/ >Part 2</a></li><li><a href=../../themes/example-flixnet-ch3/ >Part 3</a></li><li><a href=../../themes/example-flixnet-ch4/ >Part 4</a></li><li><a href=../../themes/example-flixnet-ch5/ >Part 5</a></li></ul></li><li><a href=../../themes/api/ >API reference</a></li></ul></li><li class=dropdown><a href=# class=dropdown-toggle data-toggle=dropdown>Core Dev <b class=caret></b></a><ul class=dropdown-menu><li><a href=../../dev/translate/ >Translations</a></li><li><a href=../../dev/meta-syntax/ >Metadata syntax</a></li><li><a href=../../dev/build/ >Building</a></li><li><a href=../../dev/install-qt/ >Installing Qt</a></li><li><a href=../../dev/cross-compile-qt/ >Cross compiling Qt</a></li><li><a href=../../dev/deploy/ >Deployment</a></li></ul></li></ul><ul class="nav navbar-nav navbar-right"><li><a href=# data-toggle=modal data-target=#mkdocs_search_modal><i class="fas fa-search"></i> Search</a></li><li><a rel=prev href=../platform-linux/ ><i class="fas fa-arrow-left"></i> Previous</a></li><li><a rel=next href=../platform-macos/ >Next <i class="fas fa-arrow-right"></i></a></li></ul></div></div></div><div class=container><div class=col-md-3><div class="bs-sidebar hidden-print affix well" role=complementary><ul class="nav bs-sidenav"><li class="first-level active"><a href=#platform-notes-raspberry>Platform Notes: Raspberry</a></li><li class=second-level><a href=#raspbian>Raspbian</a></li><li class=second-level><a href=#retropie>RetroPie</a></li><li class=third-level><a href=#from-the-setup-menu>From the setup menu</a></li><li class=third-level><a href=#using-the-frontend-chooser>Using the Frontend Chooser</a></li><li class=second-level><a href=#gpu-driver-notes>GPU driver notes</a></li></ul></div></div><div class=col-md-9 role=main><h1 id=platform-notes-raspberry>Platform Notes: Raspberry</h1><p>On the Raspberry Pi, the official builds require <strong>Raspbian Buster or later</strong>. All Raspberry boards are supported, however the releases are generally not interchangeable: trying to launch an executable made for a different device will result in <code>Illegal instruction</code> errors.</p><p>Pegasus requires at least 64 MB of video RAM. You can change the memory split of the Raspberry Pi using <code>raspi-config</code>.</p><h2 id=raspbian>Raspbian</h2><p>AS Raspbian is also a Debian-based distribution, you can follow the <a href=../platform-linux/ >Linux intrustions</a> here as well. A desktop installation (X11) is not required, so you can also use the "Lite" versions of Raspbian on your boards. If you don't use X11, you don't need to install any of the <code>libxcb-</code> packages either.</p><h2 id=retropie>RetroPie</h2><p>For Raspberry Pi devices Pegasus is also available from the RetroPie repositories. You can install it by two ways:</p><ul><li>a) From the RetroPie setup menu</li><li>b) Using the Frontend Chooser tool</li></ul><div class="admonition note"><p class=admonition-title>Note</p><p>You will need RetroPie version <strong>4.6</strong> (released on April 28, 2020) or later to successfully install Pegasus.</p></div><h3 id=from-the-setup-menu>From the setup menu</h3><p>You can start the RetroPie setup script from the terminal (<code>sudo ~/RetroPie-Setup/retropie_setup.sh</code>) or from another already installed frontend. You will be greeted with a text-based interface.</p><p>To install Pegasus, select <em>Manage Packages &rarr; Manage experimental packages &rarr; pegasus-fe &rarr; Install from binary</em>. The latest release will then be downloaded. You can also update your existing installation here.</p><p><img alt="retropie screenshot" src=../img/retropie-expmenu.png></p><p>After the installation, you can either call <code>pegasus-fe</code> manually, or edit <code>/opt/retropie/configs/all/autostart.sh</code> to launch Pegasus on boot (instead of eg. ES2).</p><h3 id=using-the-frontend-chooser>Using the Frontend Chooser</h3><p>There's also a graphical tool for installing various frontend and setting them up to boot automatically. It is available from <a href=https://github.com/mmatyas/retropie-frontendchooser>HERE</a>.</p><p><img alt="retropie frontend chooser screenshot" src=../img/retropie-frontendchooser.png></p><h2 id=gpu-driver-notes>GPU driver notes</h2><p>On the <strong>Raspberry Pi 4</strong> you have to define the <code>QT_QPA_EGLFS_KMS_ATOMIC</code> environment variable before launching Pegasus:</p><p><code>export QT_QPA_EGLFS_KMS_ATOMIC=1</code></p><p>(You can type it in the terminal, if you're launching Pegasus from there, or write a script for launching. If this isn't set, you'll see <code>Could not queue DRM page flip on screen HDMI1</code> errors.)</p><p>To <strong>improve gradient colors</strong> on all Raspberries, define the <code>QT_QPA_EGLFS_FORCE888</code> environment variable:</p><p><code>export QT_QPA_EGLFS_FORCE888=1</code></p><p>By default Pegasus tries to match the <strong>preferred resolution</strong> of the display (eg. TV) and use the default one if there are multiple connected outputs. To fine tune this behaviour, you can create a JSON file with a content like this:</p><div class=codehilite><pre><span></span><code><span class=p>{</span>
<span class=w>    </span><span class=nt>&quot;outputs&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[{</span>
<span class=w>        </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;HDMI1&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nt>&quot;mode&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;1280x720&quot;</span>
<span class=w>    </span><span class=p>}]</span>
<span class=p>}</span>
</code></pre></div><p>then tell Pegasus to use it like this:</p><p><code>export QT_QPA_EGLFS_KMS_CONFIG=/path/to/my.json</code></p><p>For more details, please visit <a href=https://doc.qt.io/qt-5/embedded-linux.html#eglfs-with-the-eglfs-kms-backend>this site</a>.</p></div></div><footer class="col-md-12 text-center"><hr><p><small>Copyright &copy; 2018-2021 Mátyás Mustoha</small><br><small>Documentation built with <a href=http://www.mkdocs.org/ >MkDocs</a>.</small></p></footer><script src=//ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js></script><script src=../../js/bootstrap-3.0.3.min.js></script><script>var base_url = "../.."</script><script src=../../js/base.js></script><script src=../../search/main.js></script><div class=modal id=mkdocs_search_modal tabindex=-1 role=dialog aria-labelledby=searchModalLabel aria-hidden=true><div class="modal-dialog modal-lg"><div class=modal-content><div class=modal-header><button type=button class=close data-dismiss=modal><span aria-hidden=true>&times;</span> <span class=sr-only>Close</span></button><h4 class=modal-title id=searchModalLabel>Search</h4></div><div class=modal-body><p>From here you can search these documents. Enter your search terms below.</p><form><div class=form-group><input class=form-control placeholder=Search... id=mkdocs-search-query title="Type search term here"></div></form><div id=mkdocs-search-results></div></div><div class=modal-footer></div></div></div></div><div class=modal id=mkdocs_keyboard_modal tabindex=-1 role=dialog aria-labelledby=keyboardModalLabel aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><h4 class=modal-title id=keyboardModalLabel>Keyboard Shortcuts</h4><button type=button class=close data-dismiss=modal><span aria-hidden=true>&times;</span><span class=sr-only>Close</span></button></div><div class=modal-body><table class=table><thead><tr><th style="width: 20%;">Keys</th><th>Action</th></tr></thead><tbody><tr><td class="help shortcut"><kbd>?</kbd></td><td>Open this help</td></tr><tr><td class="next shortcut"><kbd>n</kbd></td><td>Next page</td></tr><tr><td class="prev shortcut"><kbd>p</kbd></td><td>Previous page</td></tr><tr><td class="search shortcut"><kbd>s</kbd></td><td>Search</td></tr></tbody></table></div><div class=modal-footer></div></div></div></div></body></html>